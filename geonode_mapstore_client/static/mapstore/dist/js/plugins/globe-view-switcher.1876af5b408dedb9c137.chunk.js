(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[89585],{56826:(t,e,n)=>{"use strict";n.d(e,{g9:()=>r,nf:()=>o});var r="DETAILS:DETAILS_LOADED",o=function(){return{type:"DETAILS:CLOSE_DETAILS_PANEL"}}},1550:(t,e,n)=>{"use strict";n.d(e,{pP:()=>r,TR:()=>o,N7:()=>i,mq:()=>u,uv:()=>c,Qy:()=>a,IL:()=>l,Li:()=>s,OW:()=>p,ZO:()=>f,Um:()=>y,TF:()=>b,Ls:()=>d,Ec:()=>v,Eu:()=>m,JJ:()=>g,nZ:()=>h,YD:()=>O,GI:()=>S,Jb:()=>w,Uh:()=>P,e$:()=>j,eh:()=>E,$j:()=>T,bJ:()=>_,Mk:()=>C,xy:()=>R,o6:()=>A,NH:()=>M,FP:()=>N,Mo:()=>k,sO:()=>I,Px:()=>D,hd:()=>x,Ju:()=>L,BV:()=>G,SO:()=>U,H0:()=>B,$X:()=>V,ou:()=>Z,NE:()=>H,Lq:()=>F,aN:()=>z});var r="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",u="CHANGE_ZOOM_LVL",c="PAN_TO",a="ZOOM_TO_EXTENT",l="ZOOM_TO_POINT",s="CHANGE_MAP_CRS",p="CHANGE_MAP_SCALES",f="CHANGE_MAP_STYLE",y="CHANGE_ROTATION",b="CREATION_ERROR_LAYER",d="UPDATE_VERSION",v="INIT_MAP",m="RESIZE_MAP",g="CHANGE_MAP_LIMITS",h="SET_MAP_RESOLUTIONS",O="REGISTER_EVENT_LISTENER",S="UNREGISTER_EVENT_LISTENER",w="MOUSE_MOVE",P="MOUSE_OUT",j="MAP:MAP_PLUGIN_LOAD",E="MAP:ORIENTATION",T="MAP:UPDATE_MAP_VIEW",_="MAP:UPDATE_MAP_OPTIONS";function C(t,e,n,r){return{type:j,mapType:e,loading:t,loaded:n,error:r}}function R(t,e,n){return{type:l,pos:t,zoom:e,crs:n}}function A(t,e,n,o,i,u,c,a){return{type:r,center:t,zoom:e,bbox:n,size:o,mapStateSource:i,projection:u,viewerOptions:c,resolution:a}}function M(t){return{type:s,crs:t}}function N(t,e){return{type:o,point:t,layer:e}}function k(t){return{type:i,pointer:t}}function I(t,e){return{type:u,zoom:t,mapStateSource:e}}function D(t,e,n,r){return{type:a,extent:t,crs:e,maxZoom:n,options:r}}function x(t,e){return{type:f,style:t,mapStateSource:e}}function L(){return{type:m}}function G(t){var e=t.restrictedExtent,n=t.crs,r=t.minZoom;return{type:g,restrictedExtent:e,crs:n,minZoom:r}}function U(t){return{type:h,resolutions:t}}var B=function(t,e){return{type:O,eventName:t,toolName:e}},V=function(t,e){return{type:S,eventName:t,toolName:e}},Z=function(t){return{type:w,position:t}},H=function(){return{type:P}},F=function(t){return{type:E,orientation:t}},z=function(t){return{type:_,configUpdate:t}}},13652:(t,e,n)=>{"use strict";n.d(e,{Wz:()=>r,v2:()=>o,gj:()=>i,e_:()=>u});var r="MAP_TYPE_CHANGED",o="MAP_TYPE:UPDATE_LAST_2D_MAPTYPE";function i(t){return{type:r,mapType:t}}function u(t){return{type:o,mapType:t}}},75140:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A});var r=n(24852),o=n.n(r),i=n(75263),u=n.n(i),c=n(80681),a=n(50966),l=n(38560),s=n(27418),p=n.n(s);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function m(t,e,n){return(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(i){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}(this,t)});function c(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(d(t=u.call.apply(u,[this].concat(n))),"getStyle",(function(){var e={cursor:t.props.disabled?"not-allowed":"pointer",margin:0,padding:0,display:"inline-block"};return t.props.image?p()(e,{overflow:"hidden"}):p()(e,{height:"48px",width:"48px",border:"1px solid grey",borderRadius:"4px",backgroundColor:"rgb(250, 250, 250)"}),p()(e,t.props.style),e})),t}return e=c,(n=[{key:"render",value:function(){return o().createElement("img",{className:this.props.className,id:this.props.id,title:this.props.tooltip,style:this.getStyle(),src:this.props.image,onClick:this.props.disabled?null:this.props.onClick})}}])&&y(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o().Component);m(h,"propTypes",{id:u().string,image:u().string,onClick:u().func,style:u().object,disabled:u().bool,tooltip:u().string,className:u().string}),m(h,"defaultProps",{disabled:!1,tooltip:null,className:void 0});const O=h;function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function w(){return w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w.apply(this,arguments)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C(r.key),r)}}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function _(t,e,n){return(e=C(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t){var e=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===S(e)?e:String(e)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(s,t);var e,n,r,i,u=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(r);if(i){var n=T(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(t)}(this,t)});function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return _(E(t=u.call.apply(u,[this].concat(n))),"onClick",(function(){t.props.onClick(!t.props.pressed,t.props.options)})),_(E(t),"renderNormalButton",(function(){return o().createElement(l.Z,w({id:t.props.id},t.props.btnConfig,{onClick:t.onClick,bsStyle:t.props.pressed?t.props.pressedStyle:t.props.defaultStyle,style:t.props.style}),t.props.glyphicon?o().createElement(c.Glyphicon,{glyph:t.props.glyphicon}):null,t.props.glyphicon&&t.props.text&&!o().isValidElement(t.props.text)?"Â ":null,t.props.text,t.props.help)})),_(E(t),"renderImageButton",(function(){return o().createElement(O,{id:t.props.id,image:t.props.image,onClick:t.onClick,style:t.props.style})})),_(E(t),"addTooltip",(function(e){return o().createElement(a.Z,{placement:t.props.tooltipPlace,key:"overlay-trigger."+t.props.id,overlay:t.props.tooltip},e)})),t}return e=s,(n=[{key:"render",value:function(){var t="normal"===this.props.btnType?this.renderNormalButton():this.renderImageButton();return this.props.tooltip?this.addTooltip(t):t}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(o().Component);_(R,"propTypes",{id:u().string,btnConfig:u().object,options:u().object,text:u().oneOfType([u().string,u().element]),help:u().oneOfType([u().string,u().element]),glyphicon:u().string,pressed:u().bool,onClick:u().func,tooltip:u().element,tooltipPlace:u().string,style:u().object,btnType:u().oneOf(["normal","image"]),image:u().string,pressedStyle:u().string,defaultStyle:u().string}),_(R,"defaultProps",{onClick:function(){},options:{},pressed:!1,tooltipPlace:"top",style:{},btnType:"normal",pressedStyle:"primary",defaultStyle:"default"});const A=R},38560:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(80681),o=n(24852),i=n.n(o),u=n(94184),c=n.n(u),a=["disabled","className","onClick"];function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}const s=(p=r.Button,i().forwardRef((function(t,e){var n=t.disabled,r=t.className,o=t.onClick,u=void 0===o?function(){}:o,s=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,a);return i().createElement(p,l({ref:e,className:n?c()("disabled",r):r,onClick:function(){n||u.apply(void 0,arguments)}},s),s.children)})));var p},67925:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>X});var r=n(18721),o=n.n(r),i=n(64721),u=n.n(i),c=n(3651),a=n.n(c),l=n(27418),s=n.n(l),p=n(75263),f=n.n(p),y=n(24852),b=n.n(y),d=n(80681),v=n(22843),m=n(22222),g="CHANGE_CRS_INPUT_VALUE",h=n(1550),O=n(97395),S=n(5346),w=n(86638);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function C(t,e,n){return(e=R(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R(t){var e=function(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===P(e)?e:String(e)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(r);if(o){var n=_(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return T(t)}(this,t)});function u(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return C(T(t=i.call.apply(i,[this].concat(n))),"handleChange",(function(e){t.props.changeInputValue(e.target.value)})),t}return e=u,(n=[{key:"render",value:function(){var t=this,e=this.props.children;return b().createElement("div",{className:"dropdown-menu",style:{left:"auto",right:0}},b().createElement(d.ListGroupItem,{className:"ms-prj-header",bsSize:"sm"},b().createElement("div",null,b().createElement(S.Z,{msgId:"crsSelectorSelectedCRS"})),b().createElement("div",null,this.props.selected)),b().createElement(d.ListGroup,{style:{maxHeight:150,overflowY:"auto",marginBottom:0}},e.filter((function(e){return!t.props.value.trim()||-1!==e.props.children.indexOf(t.props.value)}))),b().createElement(d.FormControl,{ref:function(e){t.input=e},type:"text",placeholder:(0,w.S$)(this.context.messages,"crsSelectorFilterPlaceholder"),onChange:this.handleChange,value:this.props.value}))}}])&&j(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(b().Component);C(A,"propTypes",{selected:f().string,value:f().string,changeInputValue:f().func}),C(A,"contextTypes",{messages:f().object}),C(A,"defaultProps",{value:"",changeInputValue:function(){}});const M=A;var N=n(15135);var k=n(73781),I=n(7147),D=n(31255),x=n(75110),L=n(827),G=n(55105),U=n(93152),B=n(74621),V=n(86267),Z=n(38560);function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$(r.key),r)}}function z(t,e){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},z(t,e)}function J(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(t)}function W(t,e,n){return(e=$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $(t){var e=function(t,e){if("object"!==H(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===H(e)?e:String(e)}var q=(0,N.Z)(Z.Z),Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}(l,t);var e,n,r,i,c=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Y(r);if(i){var n=Y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===H(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return J(t)}(this,t)});function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return W(J(t=c.call.apply(c,[this].concat(n))),"state",{toggled:!1}),t}return e=l,n=[{key:"render",value:function(){var t=this,e=[],n={};for(var r in Object.keys(this.props.availableCRS).length&&(n=(0,V.filterCRSList)(this.props.availableCRS,this.props.filterAllowedCRS,this.props.additionalCRS,this.props.projectionDefs)),n)n.hasOwnProperty(r)&&e.push({value:r});var i=(0,V.normalizeSRS)(this.props.selected,this.props.filterAllowedCRS),c=["EPSG:4326","EPSG:3857","EPSG:900913"],l=["wms","osm","tileprovider","empty"],s=u()(this.props.allowedRoles,"ALL")||u()(this.props.allowedRoles,this.props.currentRole);return this.props.enabled&&s?b().createElement(d.Dropdown,{dropup:!0,className:"ms-prj-selector",onToggle:function(e){return t.setState({toggled:e})}},b().createElement(q,{bsRole:"toggle",bsStyle:"primary",className:"map-footer-btn btn-".concat(this.state.toggled?"success":"primary"),tooltip:b().createElement(S.Z,{msgId:"showCrsSelector"}),tooltipPosition:"top"},b().createElement(d.Glyphicon,{glyph:"crs"})),b().createElement(M,{bsRole:"menu",value:this.props.value,selected:i,projectionDefs:this.props.projectionDefs,filterAllowedCRS:this.props.filterAllowedCRS,additionalCRS:this.props.additionalCRS,changeInputValue:function(e){return t.props.typeInput(e)}},e.map((function(e){return b().createElement(d.ListGroupItem,{key:e.value,active:i===e.value,onClick:function(e){return function(e){a()(c,e)>-1||a()(l,t.props.currentBackground.type)>-1||t.props.currentBackground.allowedSRS&&o()(t.props.currentBackground.allowedSRS,e)?t.props.setCrs(e):t.props.onError({title:"error",message:"notification.incompatibleBackgroundAndProjection",action:{label:"close"},position:"tc",uid:"3"})}(e.target.textContent)},eventKey:e.value},e.value)})))):null}}],n&&F(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(b().Component);W(Q,"propTypes",{selected:f().string,value:f().string,projections:f().array,availableCRS:f().object,filterAllowedCRS:f().array,projectionDefs:f().array,additionalCRS:f().object,setCrs:f().func,typeInput:f().func,enabled:f().bool,currentBackground:f().object,onError:f().func,allowedRoles:f().array,currentRole:f().string}),W(Q,"defaultProps",{availableCRS:(0,V.getAvailableCRS)(),setCrs:function(){},typeInput:function(){},enabled:!0,allowedRoles:["ALL"]});var K=(0,v.$j)((0,m.P1)(B.L3,x.DP,L.uy,L.pb,(function(t){return t&&t.crsselector&&t.crsselector.value}),D.eK,U.c0,G.VM,I.QF,I._d,I.h,k.cM,(function(t,e,n,r,o,i,u,c,a,l,s,p){return{currentRole:t,currentBackground:e,selected:n,projectionDefs:r,value:o,enabled:!("EDIT"===i||u||c||a||l||s||p)}})),{typeInput:function(t){return{type:g,value:t}},setCrs:h.NH,onError:O.vU})(Q);const X={CRSSelectorPlugin:s()(K,{disablePluginIf:"{state('mapType') === 'leaflet'}",MapFooter:{name:"crsSelector",position:10,tool:!0,priority:1}}),reducers:{crsselector:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{projections:[]},e=arguments.length>1?arguments[1]:void 0;return e.type===g?s()({},t,{value:e.value}):t}},epics:{}}},96865:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>k});var r=n(71703),o=n(27418),i=n.n(o),u=n(49977),c=n.n(u),a="TOGGLE_3D",l=n(13652),s=n(93152),p=n(56826);const f={updateRouteOn3dSwitch:function(t,e){return t.ofType(a).switchMap((function(t){var n=(0,s.tH)(e.getState());return c().Observable.from([(0,l.gj)("cesium"!==t.originalMapType?"cesium":n),(0,p.nf)()])}))}};var y=n(22222),b=n(24852),d=n.n(b),v=n(75263),m=n.n(v),g=n(75140),h=n(80681),O=n(5346);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function w(){return w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w.apply(this,arguments)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C(r.key),r)}}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function _(t,e,n){return(e=C(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t){var e=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===S(e)?e:String(e)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(r);if(o){var n=T(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(t)}(this,t)});function u(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return _(E(t=i.call.apply(i,[this].concat(n))),"getButtonProperties",(function(){return["id","btnConfig","options","text","glyphicon","onClick","tooltipPlace","style","btnType","image","pressedStyle","defaultStyle"].reduce((function(e,n){return e[n]=t.props[n],e}),{})})),t}return e=u,(n=[{key:"render",value:function(){return d().createElement(g.Z,w({},this.getButtonProperties(),{pressed:this.props.active,tooltip:d().createElement(h.Tooltip,{id:"globeViewSwitcher-tooltip"},d().createElement(O.Z,{msgId:this.props.active?this.props.activeTooltip:this.props.notActiveTooltip}))}))}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(d().Component);_(R,"propTypes",{id:m().string,btnConfig:m().object,options:m().object,text:m().oneOfType([m().string,m().element]),help:m().oneOfType([m().string,m().element]),glyphicon:m().string,active:m().bool,onClick:m().func,activeTooltip:m().string,notActiveTooltip:m().string,tooltipPlace:m().string,style:m().object,btnType:m().oneOf(["normal","image"]),image:m().string,pressedStyle:m().string,defaultStyle:m().string}),_(R,"defaultProps",{id:"globeviewswitcher-btn",activeTooltip:"globeswitcher.tooltipDeactivate",notActiveTooltip:"globeswitcher.tooltipActivate",tooltipPlace:"left",defaultStyle:"primary",pressedStyle:"success active",glyphicon:"3d",btnConfig:{className:"square-button"}});const A=R;var M=(0,y.P1)([s.$v,s.c0],(function(){return{active:arguments.length>1?arguments[1]:void 0,options:{originalMapType:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"leaflet"}}})),N=(0,r.connect)(M,{onClick:function(t,e){return n=t,r=e.originalMapType,{type:a,enable:n,originalMapType:r};var n,r}})(A);const k={GlobeViewSwitcherPlugin:i()(N,{disablePluginIf:"{state('featuregridmode') === 'EDIT'}",Toolbar:{name:"3d",position:10,alwaysVisible:!0,tool:!0,priority:1}}),epics:f}},73781:(t,e,n)=>{"use strict";n.d(e,{sB:()=>g,_o:()=>h,cM:()=>C,Cq:()=>F,cQ:()=>W,dm:()=>$});var r=n(22222),o=n(75110),i=n(827),u=n(93152),c=n(7877),a=n(91175),l=n.n(a),s=n(27361),p=n.n(s),f=n(27418),y=n.n(f),b=n(37275);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=(0,r.P1)([o.l2],(function(t){return l()(t.filter((function(t){return"annotations"===t.id})))})),h=function(t){return p()(t,"annotations.config.multiGeometry",!1)},O=function(t){return p()(t,"annotations.removing")},S=function(t){return p()(t,"annotations.format")},w=function(t){return p()(t,"annotations.aeronauticalOptions")},P=function(t){return p()(t,"annotations.showUnsavedChangesModal",!1)},j=function(t){return p()(t,"annotations.showUnsavedStyleModal",!1)},E=function(t){return p()(t,"annotations.showUnsavedGeometryModal",!1)},T=function(t){return p()(t,"annotations.showDeleteFeatureModal",!1)},_=function(t){return!!p()(t,"annotations.closing")},C=function(t){return p()(t,"annotations.editing")},R=function(t){return p()(t,"annotations.editGeometry",!0)},A=function(t){return p()(t,"annotations.featureType")},M=function(t){return p()(t,"annotations.coordinateEditorEnabled")},N=function(t){return!!p()(t,"annotations.drawing")},k=function(t){return p()(t,"annotations.stylerType")},I=function(t){return p()(t,"annotations.drawingText")},D=function(t){return p()(t,"annotations.editedFields",{})},x=function(t){return!!p()(t,"annotations.styling")},L=function(t){return p()(t,"annotations.selected",null)},G=function(t){return p()(t,"annotations.unsavedChanges",!1)},U=function(t){return p()(t,"annotations.unsavedGeometry",!1)},B=function(t){return p()(t,"annotations.unsavedStyle",!1)},V=function(t){return p()(t,"annotations.validationErrors",{})},Z=function(t){return p()(t,"annotations.config",{})},H=function(t){return p()(t,"annotations.symbolList",[])},F=function(t){return p()(t,"annotations.symbolErrors",[])},z=function(t){return(C(t)?"editing":g(t)&&function(t){return p()(t,"annotations.current")}(t)&&"detail")||"list"},J=function(t){return p()(t,"annotations.showAgain",!1)},Y=function(t){return p()(t,"annotations.showPopupWarning",!0)},W=function(t){return y()({},{symbolErrors:F(t),showEdit:(0,u.m6)(t),canEdit:R(t),mouseHoverEvents:(0,c.Qp)(t),closing:_(t),format:S(t)||(0,b.u8)("defaultCoordinateFormat"),aeronauticalOptions:w(t),config:Z(t),drawing:N(t),drawingText:I(t),errors:V(t),editing:C(t),coordinateEditorEnabled:M(t),editedFields:D(t),mode:z(t),selected:L(t),featureType:A(t),removing:O(t),mapProjection:(0,i.uy)(t),showUnsavedChangesModal:P(t),showDeleteFeatureModal:T(t),showUnsavedGeometryModal:E(t),showUnsavedStyleModal:j(t),stylerType:k(t),styling:x(t),unsavedChanges:G(t),unsavedGeometry:U(t),unsavedStyle:B(t),symbolList:H(t),showAgain:J(t),showPopupWarning:Y(t)})},$=(0,r.P1)([W,function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.annotations||{})},g,z],(function(t,e,n,r){return y()({},{format:e.format,aeronauticalOptions:e.aeronauticalOptions,removing:e.removing,showUnsavedChangesModal:e.showUnsavedChangesModal,showUnsavedGeometryModal:e.showUnsavedGeometryModal,showUnsavedStyleModal:e.showUnsavedStyleModal,showDeleteFeatureModal:e.showDeleteFeatureModal,closing:!!e.closing,mode:r,annotations:n&&n.features||[],current:e.current||null,editing:t.editing,selected:t.selected,filter:e.filter||"",defaultStyles:e.defaultStyles,loading:e.loading},t.config?{config:t.config}:{})}));(0,r.P1)([$],(function(t){var e=t.current;return{annotation:l()(t.annotations.filter((function(t){return t.properties.id===e})))}}))},55105:(t,e,n)=>{"use strict";n.d(e,{Ss:()=>b,Nr:()=>d,ic:()=>m,Jz:()=>g,VM:()=>h,CF:()=>O,Ju:()=>S});var r=n(91175),o=n.n(r),i=n(88306),u=n.n(i),c=n(827),a=n(52259),l=n(37275);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){return t.maplayout&&t.maplayout.layout||{}},d=function(t){return t.maplayout&&t.maplayout.boundingMapRect||{}},v=function(t){return t.maplayout&&t.maplayout.boundingSidebarRect||{}},m=u()((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=b(t),o=v(t);return r&&Object.keys(r).filter((function(t){return e[t]})).reduce((function(t,e){var i;return f(f({},t),{},y({},e,n&&null!==(i=o[e])&&void 0!==i?i:r[e]))}),{})||{}}),(function(t,e,n){return JSON.stringify(b(t))+JSON.stringify(v(t))+JSON.stringify(e)+(n?"_isDock":"")})),g=function(t){var e;return!(null===(e=b(t))||void 0===e||!e.rightPanel)},h=function(t){var e,n=l.ZP.getConfigProp("mapLayout")||a.DEFAULT_MAP_LAYOUT;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=b(t);return!!o()(e.filter((function(t){return n[t.key]})).map((function(t){return"not"===t.type?n[t.key]!==t.value&&n[t.key]:n[t.key]===t.value})))}(t,[{key:"bottom",value:null!==(e=null==n?void 0:n.bottom.sm)&&void 0!==e?e:0,type:"not"}])},O=function(t){var e=(0,c.Od)(t),n=d(t);return n&&e&&e.size&&{left:(0,a.parseLayoutValue)(n.left,e.size.width),bottom:(0,a.parseLayoutValue)(n.bottom,e.size.height),right:(0,a.parseLayoutValue)(n.right,e.size.width),top:(0,a.parseLayoutValue)(n.top,e.size.height)}},S=function(t){var e,n;return null!==(e=null==t||null===(n=t.maplayout)||void 0===n?void 0:n.dockPanels)&&void 0!==e?e:{left:[],right:[]}}},87157:(t,e,n)=>{var r=n(40554),o=n(88958);t.exports=function(t,e,n,i){var u=t.length;for((n=r(n))<0&&(n=-n>u?0:u+n),(i=void 0===i||i>u?u:r(i))<0&&(i+=u),i=n>i?0:o(i);n<i;)t[n++]=e;return t}},41761:(t,e,n)=>{var r=n(44239),o=n(37005);t.exports=function(t){return o(t)&&"[object Date]"==r(t)}},19873:(t,e,n)=>{var r=n(87157),o=n(16612);t.exports=function(t,e,n,i){var u=null==t?0:t.length;return u?(n&&"number"!=typeof n&&o(t,e,n)&&(n=0,i=u),r(t,e,n,i)):[]}},3651:(t,e,n)=>{var r=n(42118),o=n(40554),i=Math.max;t.exports=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var c=null==n?0:o(n);return c<0&&(c=i(u+c,0)),r(t,e,c)}},47960:(t,e,n)=>{var r=n(41761),o=n(7518),i=n(31167),u=i&&i.isDate,c=u?o(u):r;t.exports=c},88958:(t,e,n)=>{var r=n(29750),o=n(40554);t.exports=function(t){return t?r(o(t),0,4294967295):0}}}]);